{"openapi":"3.1.0","info":{"title":"Agricultural Weighing System","description":"AWS","version":"1.0.0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"paths":{"/work":{"put":{"tags":["工作服务模块"],"summary":"更新采摘工作","operationId":"updateWork","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkUpdateVO"}}},"required":true},"responses":{"500":{"description":"Internal Server Error"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"400":{"description":"Bad Request"},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/WorkVO"}}}}}},"post":{"tags":["工作服务模块"],"summary":"添加采摘工作","operationId":"addWork","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkAddVO"}}},"required":true},"responses":{"500":{"description":"Internal Server Error"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"400":{"description":"Bad Request"},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/WorkVO"}}}}}}},"/work/assign":{"put":{"tags":["工作服务模块"],"summary":"重新分配工作","operationId":"reassignWork","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkReassignVO"}}},"required":true},"responses":{"500":{"description":"Internal Server Error"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"400":{"description":"Bad Request"},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/WorkAssignmentsVO"}}}}}},"post":{"tags":["工作服务模块"],"summary":"分配工作","operationId":"assignWork","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkAssignVO"}}},"required":true},"responses":{"500":{"description":"Internal Server Error"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"400":{"description":"Bad Request"},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/WorkAssignmentsVO"}}}}}}},"/weigh/scale":{"put":{"tags":["称重服务模块"],"summary":"更新电子秤信息","operationId":"updateScale","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScaleUpdateVO"}}},"required":true},"responses":{"500":{"description":"Internal Server Error"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"400":{"description":"Bad Request"},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ScaleVO"}}}}}},"post":{"tags":["称重服务模块"],"summary":"添加电子秤","operationId":"addScale","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScaleAddVO"}}},"required":true},"responses":{"500":{"description":"Internal Server Error"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"400":{"description":"Bad Request"},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ScaleVO"}}}}}}},"/user":{"get":{"tags":["用户管理模块"],"summary":"用户获取个人信息","operationId":"getMe","responses":{"500":{"description":"Internal Server Error"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"400":{"description":"Bad Request"},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserVO"}}}}}},"put":{"tags":["用户管理模块"],"summary":"管理员更新用户","operationId":"updateUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdateVO"}}},"required":true},"responses":{"500":{"description":"Internal Server Error"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"400":{"description":"Bad Request"},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserVO"}}}}}},"post":{"tags":["用户管理模块"],"summary":"管理员添加用户","operationId":"addUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRegisterVO"}}},"required":true},"responses":{"500":{"description":"Internal Server Error"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"400":{"description":"Bad Request"},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserVO"}}}}}}},"/user/me":{"put":{"tags":["用户管理模块"],"summary":"用户更新个人信息","operationId":"updateMe","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdateMeVO"}}},"required":true},"responses":{"500":{"description":"Internal Server Error"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"400":{"description":"Bad Request"},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserVO"}}}}}}},"/produce":{"put":{"tags":["农作物模块"],"summary":"更新农作物","operationId":"updateProduce","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProduceUpdateVO"}}},"required":true},"responses":{"500":{"description":"Internal Server Error"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"400":{"description":"Bad Request"},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProduceVO"}}}}}},"post":{"tags":["农作物模块"],"summary":"添加农作物","operationId":"addProduce","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProduceAddVO"}}},"required":true},"responses":{"500":{"description":"Internal Server Error"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"400":{"description":"Bad Request"},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProduceVO"}}}}}}},"/weigh/record":{"post":{"tags":["称重服务模块"],"summary":"添加称重记录","operationId":"addRecord","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecordAddVO"}}},"required":true},"responses":{"500":{"description":"Internal Server Error"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"400":{"description":"Bad Request"},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/RecordVO"}}}}}}},"/user/login":{"post":{"tags":["用户管理模块"],"summary":"用户登录","operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserLoginVO"}}},"required":true},"responses":{"500":{"description":"Internal Server Error"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"400":{"description":"Bad Request"},"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/work/{id}":{"get":{"tags":["工作服务模块"],"summary":"获取采摘工作","operationId":"getWork","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"500":{"description":"Internal Server Error"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"400":{"description":"Bad Request"},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/WorkVO"}}}}}}},"/work/{id}/assignments":{"get":{"tags":["工作服务模块"],"summary":"获取采摘作业的分配情况","operationId":"getWorkAssignments","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"500":{"description":"Internal Server Error"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"400":{"description":"Bad Request"},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/WorkAssignmentsVO"}}}}}}},"/work/produce/{id}":{"get":{"tags":["工作服务模块"],"summary":"获取农作物的采摘工作列表","operationId":"getProduceWorks","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"500":{"description":"Internal Server Error"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"400":{"description":"Bad Request"},"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/WorkVO"}}}}}}}},"/work/list":{"get":{"tags":["工作服务模块"],"summary":"获取采摘工作列表","operationId":"getWorks","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"500":{"description":"Internal Server Error"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"400":{"description":"Bad Request"},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/WorkListVO"}}}}}}},"/work/assignments/me":{"get":{"tags":["工作服务模块"],"summary":"获取我被分配的工作","operationId":"getMyAssignments","responses":{"500":{"description":"Internal Server Error"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"400":{"description":"Bad Request"},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MyAssignmentsVO"}}}}}}},"/weigh/scale/{id}":{"get":{"tags":["称重服务模块"],"summary":"获取电子秤","operationId":"getScale","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"500":{"description":"Internal Server Error"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"400":{"description":"Bad Request"},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ScaleVO"}}}}}}},"/weigh/scale/list":{"get":{"tags":["称重服务模块"],"summary":"获取电子秤列表","operationId":"getScales","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"500":{"description":"Internal Server Error"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"400":{"description":"Bad Request"},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ScaleListVO"}}}}}}},"/weigh/record/list":{"get":{"tags":["称重服务模块"],"summary":"获取称重记录","operationId":"getRecords","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecordsGetVO"}}},"required":true},"responses":{"500":{"description":"Internal Server Error"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"400":{"description":"Bad Request"},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/RecordListVO"}}}}}}},"/user/{uid}":{"get":{"tags":["用户管理模块"],"summary":"管理员获取用户信息","operationId":"getEmployee","parameters":[{"name":"uid","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"500":{"description":"Internal Server Error"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"400":{"description":"Bad Request"},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserVO"}}}}}}},"/user/list":{"get":{"tags":["用户管理模块"],"summary":"管理员获取用户列表","operationId":"getUsers","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"500":{"description":"Internal Server Error"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"400":{"description":"Bad Request"},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserListVO"}}}}}}},"/produce/{id}":{"get":{"tags":["农作物模块"],"summary":"获取农作物","operationId":"getProduce","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"500":{"description":"Internal Server Error"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"400":{"description":"Bad Request"},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProduceVO"}}}}}}},"/produce/list":{"get":{"tags":["农作物模块"],"summary":"获取农作物列表","operationId":"getProduces","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"500":{"description":"Internal Server Error"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"400":{"description":"Bad Request"},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProduceListVO"}}}}}}},"/common/info":{"get":{"tags":["公共模块"],"summary":"信息","operationId":"index","responses":{"500":{"description":"Internal Server Error"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"400":{"description":"Bad Request"},"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}}},"components":{"schemas":{"WorkUpdateVO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"produceId":{"type":"integer","format":"int64"},"startTime":{"type":"integer","format":"int64"},"endTime":{"type":"integer","format":"int64"},"dataValue":{"type":"number"},"unit":{"type":"integer","format":"int32"},"status":{"type":"integer","format":"int32"}}},"WorkVO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"produceId":{"type":"integer","format":"int64"},"startTime":{"type":"integer","format":"int64"},"endTime":{"type":"integer","format":"int64"},"dataValue":{"type":"number"},"unit":{"type":"integer","format":"int32"},"createTime":{"type":"integer","format":"int64"},"updateTime":{"type":"integer","format":"int64"},"status":{"type":"integer","format":"int32"}}},"WorkReassignVO":{"type":"object","description":"作业重新分配表单","properties":{"workId":{"type":"integer","format":"int64","description":"采摘作业编号"},"employeeIdList":{"type":"array","description":"员工编号列表","items":{"type":"integer","format":"int64"}}}},"WorkAssignmentsVO":{"type":"object","description":"作业分配信息","properties":{"workId":{"type":"integer","format":"int64","description":"采摘作业编号"},"employees":{"type":"object","additionalProperties":{"type":"string"},"description":"分配的员工列表"}}},"ScaleUpdateVO":{"type":"object","description":"更新电子秤信息表单","properties":{"id":{"type":"integer","format":"int64","description":"电子秤编号"},"status":{"type":"integer","format":"int32","description":"状态，0 为禁用，1 为启用，2 为已删除"}}},"ScaleVO":{"type":"object","description":"电子秤信息","properties":{"id":{"type":"integer","format":"int64","description":"电子秤编号"},"skey":{"type":"string","description":"电子秤密钥"},"model":{"type":"string","description":"型号"},"maxCapacity":{"type":"number","description":"最大量程"},"minCapacity":{"type":"number","description":"最小量程"},"unit":{"type":"integer","format":"int32","description":"量程单位，0 为 mg，1 为 g，2 为 kg，3 为 t，4 为 lb（磅），5 为 oz（盎司），6 为 ct（克拉）"},"verificationInterval":{"type":"integer","format":"int32","description":"检定分度值"},"displayInterval":{"type":"integer","format":"int32","description":"显示分度值"},"unitDv":{"type":"integer","format":"int32","description":"分度值单位，0 为 mg，1 为 g，2 为 kg，3 为 t，4 为 lb（磅），5 为 oz（盎司），6 为 ct（克拉）"},"protocol":{"type":"integer","format":"int32","description":"通信协议，0 为 MQTT，1 为 HTTP"},"createTime":{"type":"integer","format":"int64","description":"创建时间，毫秒级时间戳"},"updateTime":{"type":"integer","format":"int64","description":"更新时间，毫秒级时间戳"},"status":{"type":"integer","format":"int32","description":"状态，0 为禁用，1 为启用，2 为已删除"}}},"UserUpdateVO":{"type":"object","description":"更新用户信息表单","properties":{"uid":{"type":"string","description":"用户编号"},"name":{"type":"string","description":"用户姓名"},"password":{"type":"string","description":"密码"},"status":{"type":"integer","format":"int32","description":"状态，0 为禁用，1 为启用，2 为已删除"}}},"UserVO":{"type":"object","description":"用户信息","properties":{"id":{"type":"integer","format":"int64","description":"用户编号"},"uid":{"type":"string","description":"用户身份证"},"name":{"type":"string","description":"员工姓名"},"roles":{"type":"string","description":"角色，以英文逗号分隔，比如 ROLE_EMPLOYEE,ROLE_ADMIN"},"createTime":{"type":"integer","format":"int64","description":"创建时间，毫秒级时间戳"},"updateTime":{"type":"integer","format":"int64","description":"更新时间，毫秒级时间戳"},"status":{"type":"integer","format":"int32","description":"状态，0 为禁用，1 为启用，2 为已删除"}}},"UserUpdateMeVO":{"type":"object","description":"更新个人信息表单","properties":{"name":{"type":"string","description":"用户姓名"},"password":{"type":"string","description":"密码"}}},"ProduceUpdateVO":{"type":"object","description":"修改农产品信息表单","properties":{"id":{"type":"integer","format":"int64","description":"农产品编号"},"name":{"type":"string","description":"农产品名称"},"status":{"type":"integer","format":"int32","description":"状态，0 为未种植，1 为在种植，2 为已删除"}}},"ProduceVO":{"type":"object","description":"农产品","properties":{"id":{"type":"integer","format":"int64","description":"农产品编号"},"name":{"type":"string","description":"农产品名称"},"createTime":{"type":"integer","format":"int64","description":"创建时间"},"updateTime":{"type":"integer","format":"int64","description":"更新时间"},"status":{"type":"integer","format":"int32","description":"状态，0 为未种植，1 为在种植，2 为已删除"}}},"WorkAddVO":{"type":"object","properties":{"produceId":{"type":"integer","format":"int64"},"startTime":{"type":"integer","format":"int64"},"endTime":{"type":"integer","format":"int64"}}},"WorkAssignVO":{"type":"object","description":"作业分配表单","properties":{"workId":{"type":"integer","format":"int64","description":"采摘作业编号"},"employeeIdList":{"type":"array","description":"员工编号列表","items":{"type":"integer","format":"int64"}}}},"ScaleAddVO":{"type":"object","description":"新增电子秤信息表单","properties":{"skey":{"type":"string","description":"电子秤密钥"},"model":{"type":"string","description":"型号"},"maxCapacity":{"type":"number","description":"最大量程"},"minCapacity":{"type":"number","description":"最小量程"},"unit":{"type":"integer","format":"int32","description":"量程单位，0 为 mg，1 为 g，2 为 kg，3 为 t，4 为 lb（磅），5 为 oz（盎司），6 为 ct（克拉）"},"verificationInterval":{"type":"integer","format":"int32","description":"检定分度值"},"displayInterval":{"type":"integer","format":"int32","description":"显示分度值"},"unitDv":{"type":"integer","format":"int32","description":"分度值单位，0 为 mg，1 为 g，2 为 kg，3 为 t，4 为 lb（磅），5 为 oz（盎司），6 为 ct（克拉）"},"protocol":{"type":"integer","format":"int32","description":"通信协议，0 为 MQTT，1 为 HTTP"}}},"RecordAddVO":{"type":"object","description":"新增称重记录表单","properties":{"workId":{"type":"integer","format":"int64","description":"采摘作业编号"},"employeeId":{"type":"integer","format":"int64","description":"员工编号"},"scaleId":{"type":"integer","format":"int64","description":"电子秤编号"},"dataValue":{"type":"number","description":"称重结果"},"dataErrorMargin":{"type":"number","description":"称量结果误差范围，正负多少"},"unit":{"type":"integer","format":"int32","description":"称重单位，0 为 mg，1 为 g，2 为 kg，3 为 t，4 为 lb（磅），5 为 oz（盎司），6 为 ct（克拉"},"dataTime":{"type":"integer","format":"int64","description":"称重时间，毫秒级时间戳"}}},"RecordVO":{"type":"object","description":"称重记录","properties":{"id":{"type":"integer","format":"int64","description":"称重记录编号"},"workId":{"type":"integer","format":"int64","description":"采摘作业编号"},"employeeId":{"type":"integer","format":"int64","description":"员工编号"},"scaleId":{"type":"integer","format":"int64","description":"电子秤编号"},"dataValue":{"type":"number","description":"称重结果"},"dataErrorMargin":{"type":"number","description":"称量结果误差范围，正负多少"},"unit":{"type":"integer","format":"int32","description":"称重单位，0 为 mg，1 为 g，2 为 kg，3 为 t，4 为 lb（磅），5 为 oz（盎司），6 为 ct（克拉）"},"dataTime":{"type":"integer","format":"int64","description":"称重时间，毫秒级时间戳"}}},"UserRegisterVO":{"type":"object","description":"用户注册表单","properties":{"uid":{"type":"string","description":"用户编号"},"name":{"type":"string","description":"员工姓名"},"roles":{"type":"string","description":"角色，以英文逗号分隔，比如 ROLE_EMPLOYEE,ROLE_ADMIN"}}},"UserLoginVO":{"type":"object","description":"用户登录表单","properties":{"uid":{"type":"string","description":"用户编号"},"password":{"type":"string","description":"密码"}}},"ProduceAddVO":{"type":"object","description":"新增农产品表单","properties":{"name":{"type":"string","description":"农产品名称"}}},"WorkListVO":{"type":"object","description":"作业列表","properties":{"workList":{"type":"array","items":{"$ref":"#/components/schemas/WorkVO"}},"count":{"type":"integer","format":"int64"}}},"MyAssignmentsVO":{"type":"object","description":"员工被分配的作业","properties":{"workIds":{"type":"array","description":"采摘作业编号列表","items":{"type":"integer","format":"int64"}}}},"ScaleListVO":{"type":"object","description":"电子秤列表","properties":{"scaleList":{"type":"array","items":{"$ref":"#/components/schemas/ScaleVO"}},"count":{"type":"integer","format":"int64"}}},"RecordsGetVO":{"type":"object","description":"称重记录查询参数","properties":{"page":{"type":"integer","format":"int32","description":"当前页码"},"size":{"type":"integer","format":"int32","description":"每页记录数"},"workId":{"type":"integer","format":"int64","description":"采摘作业编号"},"employeeId":{"type":"integer","format":"int64","description":"员工编号"},"scaleId":{"type":"integer","format":"int64","description":"电子秤编号"}}},"RecordListVO":{"type":"object","description":"称重记录列表","properties":{"recordList":{"type":"array","items":{"$ref":"#/components/schemas/RecordVO"}},"count":{"type":"integer","format":"int64"}}},"UserListVO":{"type":"object","description":"用户列表","properties":{"userList":{"type":"array","items":{"$ref":"#/components/schemas/UserVO"}},"count":{"type":"integer","format":"int64"}}},"ProduceListVO":{"type":"object","description":"农产品列表","properties":{"produceList":{"type":"array","items":{"$ref":"#/components/schemas/ProduceVO"}},"count":{"type":"integer","format":"int64"}}}}}}